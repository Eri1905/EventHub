<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
<header th:insert="~{header.html}"></header>
<iframe src="search.html" width="100%" height="300px"></iframe>
<table class="table table-bordered border-warning">
    <thead>
    <tr>
        <th class="p-3 text-danger-emphasis bg-danger-subtle border border-danger-subtle rounded-3" scope="col">
            Title
        </th>
        <th class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3" scope="col">
            Date
        </th>
        <th class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3" scope="col">
            Duration
        </th>
        <th class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3" scope="col">
            Description
        </th>
        <th class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3" scope="col">
            Take place in:
        </th>
        <th class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3" scope="col">
            Ticket price
        </th>
        <th class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3" scope="col">
            Capacity
        </th>
        <th class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3" scope="col">
            Organisation name
        </th>
        <th class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3" scope="col">
            Type
        </th>
        <th class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3" scope="col">
            Status
        </th>
        <th class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3" scope="col">
            Update
        </th>
        <th class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3" scope="col">
            Delete
        </th>

    </tr>
    </thead>
    <tbody>
    <tr>
    <tr th:each="event : ${allEvents}">
        <th class="p-3 text-primary-emphasis bg-primary-subtle border border-primary-subtle rounded-3" scope="row"
            th:text="${event.name}"></th>
        <td class="p-3 text-danger-emphasis bg-danger-subtle border border-danger-subtle rounded-3"
            th:text="${event.date}"></td>
        <td class="p-3 text-danger-emphasis bg-danger-subtle border border-danger-subtle rounded-3"
            th:text="${event.duration}"></td>
        <td class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3"
            th:text="${event.description}"></td>
        <td class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3"
            th:text="${event.place}"></td>
        <td class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3"
            th:text="${event.ticketPrice}"></td>
        <td class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3"
            th:text="${event.capacity}"></td>
        <td class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3"
            th:text="${event.organisation.organisationName}"></td>
        <td class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3"
            th:text="${event.eventType.typeName}"></td>
        <td class="p-3 text-success-emphasis bg-success-subtle border border-success-subtle rounded-3"
            th:text="${event.eventStatus}"></td>
        <td>
            <a  class="btn btn-primary" sec:authorize="hasAuthority('Admin')" th:href="@{'/event/update?id=' + ${event.id}}">Update</a>
        </td>
        <td>
            <form action="#" sec:authorize="hasAuthority('Admin')" th:action="@{'/event/delete?id=' + ${event.id}}" method="post">
                <button type="submit">Delete</button>
            </form>
        </td>

    </tr>
    </tr>

    </tbody>
</table>
</body>
</html>
